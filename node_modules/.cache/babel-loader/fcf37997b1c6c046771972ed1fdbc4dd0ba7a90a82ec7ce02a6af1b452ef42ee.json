{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import LinkBlock from'./components/LinkBlock';import LinkForm from'./components/LinkForm';import WeatherWidget from'./components/WeatherWidget';import ClockWidget from'./components/ClockWidget';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[theme,setTheme]=useState('light');const[links,setLinks]=useState([]);// 1. При монтировании загружаем тему из localStorage\nuseEffect(()=>{const storedTheme=localStorage.getItem('theme');if(storedTheme){setTheme(storedTheme);}},[]);// 2. При каждом изменении темы, сохраняем её в localStorage\nuseEffect(()=>{localStorage.setItem('theme',theme);},[theme]);// Аналогично для ссылок — загружаем из localStorage и сохраняем\nuseEffect(()=>{const storedLinks=localStorage.getItem('userLinks');if(storedLinks){setLinks(JSON.parse(storedLinks));}else{// Если данных нет, можно установить дефолтные ссылки\nsetLinks([{title:'Google',url:'https://www.google.com'},{title:'YouTube',url:'https://www.youtube.com'}]);}},[]);// Сохраняем обновлённый список ссылок при изменении\nuseEffect(()=>{localStorage.setItem('userLinks',JSON.stringify(links));},[links]);// Переключатель темы\nconst toggleTheme=()=>{setTheme(prevTheme=>prevTheme==='light'?'dark':'light');};// Добавление новой ссылки\nconst handleAddLink=newLink=>{setLinks(prevLinks=>[...prevLinks,newLink]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App \".concat(theme),children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"theme-toggle\",children:\"\\u041F\\u0435\\u0440\\u0435\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"link-form-section\",children:/*#__PURE__*/_jsx(LinkForm,{onAddLink:handleAddLink})}),/*#__PURE__*/_jsx(\"section\",{className:\"links-section\",children:links.map((link,index)=>/*#__PURE__*/_jsx(LinkBlock,{title:link.title,url:link.url},index))}),/*#__PURE__*/_jsxs(\"section\",{className:\"widgets-section\",children:[/*#__PURE__*/_jsx(WeatherWidget,{}),/*#__PURE__*/_jsx(ClockWidget,{})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LinkBlock","LinkForm","WeatherWidget","ClockWidget","jsx","_jsx","jsxs","_jsxs","App","theme","setTheme","links","setLinks","storedTheme","localStorage","getItem","setItem","storedLinks","JSON","parse","title","url","stringify","toggleTheme","prevTheme","handleAddLink","newLink","prevLinks","className","concat","children","onClick","onAddLink","map","link","index"],"sources":["C:/Users/axm/Documents/sites/Pet-projects/custom-newtab-extension/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport LinkBlock from './components/LinkBlock';\nimport LinkForm from './components/LinkForm';\nimport WeatherWidget from './components/WeatherWidget';\nimport ClockWidget from './components/ClockWidget';\n\nfunction App() {\n  const [theme, setTheme] = useState('light');\n  const [links, setLinks] = useState([]);\n\n  // 1. При монтировании загружаем тему из localStorage\n  useEffect(() => {\n    const storedTheme = localStorage.getItem('theme');\n    if (storedTheme) {\n      setTheme(storedTheme);\n    }\n  }, []);\n\n  // 2. При каждом изменении темы, сохраняем её в localStorage\n  useEffect(() => {\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  // Аналогично для ссылок — загружаем из localStorage и сохраняем\n  useEffect(() => {\n    const storedLinks = localStorage.getItem('userLinks');\n    if (storedLinks) {\n      setLinks(JSON.parse(storedLinks));\n    } else {\n      // Если данных нет, можно установить дефолтные ссылки\n      setLinks([\n        { title: 'Google', url: 'https://www.google.com' },\n        { title: 'YouTube', url: 'https://www.youtube.com' }\n      ]);\n    }\n  }, []);\n\n  // Сохраняем обновлённый список ссылок при изменении\n  useEffect(() => {\n    localStorage.setItem('userLinks', JSON.stringify(links));\n  }, [links]);\n\n  // Переключатель темы\n  const toggleTheme = () => {\n    setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));\n  };\n\n  // Добавление новой ссылки\n  const handleAddLink = (newLink) => {\n    setLinks(prevLinks => [...prevLinks, newLink]);\n  };\n\n  return (\n    <div className={`App ${theme}`}>\n      <header className=\"header\">\n        <button onClick={toggleTheme} className=\"theme-toggle\">\n          Переключить тему\n        </button>\n      </header>\n\n      <main>\n        <section className=\"link-form-section\">\n          <LinkForm onAddLink={handleAddLink} />\n        </section>\n\n        <section className=\"links-section\">\n          {links.map((link, index) => (\n            <LinkBlock key={index} title={link.title} url={link.url} />\n          ))}\n        </section>\n\n        <section className=\"widgets-section\">\n          <WeatherWidget />\n          <ClockWidget />\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}