{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\axm\\\\Documents\\\\sites\\\\Pet-projects\\\\custom-newtab-extension\\\\src\\\\components\\\\WeatherWidget.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './WeatherWidget.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction WeatherWidget() {\n  _s();\n  const [weather, setWeather] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const API_KEY = '4cc9911b0a2723050929b73c2a59e727';\n  useEffect(() => {\n    if (!navigator.geolocation) {\n      alert('Геолокация недоступна в этом браузере');\n      setLoading(false);\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      fetchWeatherByCoords(latitude, longitude);\n    }, error => {\n      alert('Не удалось получить координаты: ' + error.message);\n      setLoading(false);\n    });\n  }, []);\n  const fetchWeatherByCoords = async (lat, lon) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=ru&appid=${API_KEY}`);\n      if (!response.ok) throw new Error('Не удалось получить погоду');\n      const data = await response.json();\n      setWeather({\n        temp: Math.round(data.main.temp),\n        description: data.weather[0].description,\n        name: data.name\n      });\n    } catch (err) {\n      alert(err.message);\n      setWeather(null);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"weather-widget widget\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u043E\\u0433\\u043E\\u0434\\u044B...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }, this), !loading && weather && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weather-city\",\n        children: weather.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weather-temp\",\n        children: [weather.temp, \"\\xB0C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weather-desc\",\n        children: weather.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), !loading && !weather && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041F\\u043E\\u0433\\u043E\\u0434\\u0430 \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(WeatherWidget, \"8S9MM6CRsAKHmMjrPFeKJiV0PfY=\");\n_c = WeatherWidget;\nexport default WeatherWidget;\nvar _c;\n$RefreshReg$(_c, \"WeatherWidget\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","WeatherWidget","_s","weather","setWeather","loading","setLoading","API_KEY","navigator","geolocation","alert","getCurrentPosition","position","latitude","longitude","coords","fetchWeatherByCoords","error","message","lat","lon","response","fetch","ok","Error","data","json","temp","Math","round","main","description","name","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/axm/Documents/sites/Pet-projects/custom-newtab-extension/src/components/WeatherWidget.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './WeatherWidget.css';\r\n\r\nfunction WeatherWidget() {\r\n  const [weather, setWeather] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const API_KEY = '4cc9911b0a2723050929b73c2a59e727';\r\n\r\n  useEffect(() => {\r\n    if (!navigator.geolocation) {\r\n      alert('Геолокация недоступна в этом браузере');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        fetchWeatherByCoords(latitude, longitude);\r\n      },\r\n      (error) => {\r\n        alert('Не удалось получить координаты: ' + error.message);\r\n        setLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  const fetchWeatherByCoords = async (lat, lon) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=ru&appid=${API_KEY}`\r\n      );\r\n      if (!response.ok) throw new Error('Не удалось получить погоду');\r\n      const data = await response.json();\r\n      setWeather({\r\n        temp: Math.round(data.main.temp),\r\n        description: data.weather[0].description,\r\n        name: data.name\r\n      });\r\n    } catch (err) {\r\n      alert(err.message);\r\n      setWeather(null);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"weather-widget widget\">\r\n      {loading && <p>Загрузка погоды...</p>}\r\n\r\n      {!loading && weather && (\r\n        <>\r\n          <div className=\"weather-city\">{weather.name}</div>\r\n          <div className=\"weather-temp\">{weather.temp}°C</div>\r\n          <div className=\"weather-desc\">{weather.description}</div>\r\n        </>\r\n      )}\r\n\r\n      {!loading && !weather && (\r\n        <p>Погода недоступна</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WeatherWidget;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}