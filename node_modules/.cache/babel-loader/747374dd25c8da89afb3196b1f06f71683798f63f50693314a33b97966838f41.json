{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./LinkBlock.css';import defaultIcon from'../assets/default-icon.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function LinkBlock(_ref){let{title,url,customIcon='',isRemoveMode,onRemove,onEdit}=_ref;let domain='';try{domain=new URL(url).hostname;}catch(_unused){}const googleIconUrl=\"https://www.google.com/s2/favicons?domain=\".concat(domain,\"&sz=128\");const[iconSrc,setIconSrc]=useState(customIcon||googleIconUrl);useEffect(()=>{if(customIcon){setIconSrc(customIcon);}else{setIconSrc(googleIconUrl);}},[customIcon,googleIconUrl]);const handleImgError=()=>{setIconSrc(defaultIcon);};return/*#__PURE__*/_jsxs(\"div\",{className:\"link-block-wrapper\",children:[/*#__PURE__*/_jsxs(\"a\",{href:url,className:\"link-block\",target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:iconSrc,alt:\"icon\",className:\"favicon\",onError:handleImgError})}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip\",children:title})]}),isRemoveMode&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"remove-block-btn\",onClick:onRemove,children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-block-btn\",onClick:onEdit,children:\"\\u270E\"})]})]});}export default LinkBlock;","map":{"version":3,"names":["React","useState","useEffect","defaultIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LinkBlock","_ref","title","url","customIcon","isRemoveMode","onRemove","onEdit","domain","URL","hostname","_unused","googleIconUrl","concat","iconSrc","setIconSrc","handleImgError","className","children","href","target","rel","src","alt","onError","onClick"],"sources":["C:/Users/axm/Documents/GitHub/Home-Page/src/components/LinkBlock.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './LinkBlock.css';\r\nimport defaultIcon from '../assets/default-icon.png';\r\n\r\nfunction LinkBlock({\r\n  title,\r\n  url,\r\n  customIcon = '',\r\n  isRemoveMode,\r\n  onRemove,\r\n  onEdit,\r\n}) {\r\n  let domain = '';\r\n  try {\r\n    domain = new URL(url).hostname;\r\n  } catch {}\r\n\r\n  const googleIconUrl = `https://www.google.com/s2/favicons?domain=${domain}&sz=128`;\r\n  const [iconSrc, setIconSrc] = useState(customIcon || googleIconUrl);\r\n\r\n  useEffect(() => {\r\n    if (customIcon) {\r\n      setIconSrc(customIcon);\r\n    } else {\r\n      setIconSrc(googleIconUrl);\r\n    }\r\n  }, [customIcon, googleIconUrl]);\r\n\r\n  const handleImgError = () => {\r\n    setIconSrc(defaultIcon);\r\n  };\r\n\r\n  return (\r\n    <div className=\"link-block-wrapper\">\r\n      <a\r\n        href={url}\r\n        className=\"link-block\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <div className=\"icon-wrapper\">\r\n          <img\r\n            src={iconSrc}\r\n            alt=\"icon\"\r\n            className=\"favicon\"\r\n            onError={handleImgError}\r\n          />\r\n        </div>\r\n        {/* Всплывающий текст над блоком при hover */}\r\n        <div className=\"tooltip\">{title}</div>\r\n      </a>\r\n\r\n      {isRemoveMode && (\r\n        <>\r\n          {/* Местами поменяли: теперь remove идёт первым, edit вторым */}\r\n          <button className=\"remove-block-btn\" onClick={onRemove}>\r\n            -\r\n          </button>\r\n          <button className=\"edit-block-btn\" onClick={onEdit}>\r\n            ✎\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LinkBlock;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,iBAAiB,CACxB,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErD,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAOf,IAPgB,CACjBC,KAAK,CACLC,GAAG,CACHC,UAAU,CAAG,EAAE,CACfC,YAAY,CACZC,QAAQ,CACRC,MACF,CAAC,CAAAN,IAAA,CACC,GAAI,CAAAO,MAAM,CAAG,EAAE,CACf,GAAI,CACFA,MAAM,CAAG,GAAI,CAAAC,GAAG,CAACN,GAAG,CAAC,CAACO,QAAQ,CAChC,CAAE,MAAAC,OAAA,CAAM,CAAC,CAET,KAAM,CAAAC,aAAa,8CAAAC,MAAA,CAAgDL,MAAM,WAAS,CAClF,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAACa,UAAU,EAAIQ,aAAa,CAAC,CAEnEpB,SAAS,CAAC,IAAM,CACd,GAAIY,UAAU,CAAE,CACdW,UAAU,CAACX,UAAU,CAAC,CACxB,CAAC,IAAM,CACLW,UAAU,CAACH,aAAa,CAAC,CAC3B,CACF,CAAC,CAAE,CAACR,UAAU,CAAEQ,aAAa,CAAC,CAAC,CAE/B,KAAM,CAAAI,cAAc,CAAGA,CAAA,GAAM,CAC3BD,UAAU,CAACtB,WAAW,CAAC,CACzB,CAAC,CAED,mBACEI,KAAA,QAAKoB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCrB,KAAA,MACEsB,IAAI,CAAEhB,GAAI,CACVc,SAAS,CAAC,YAAY,CACtBG,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CAAAH,QAAA,eAEzBvB,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BvB,IAAA,QACE2B,GAAG,CAAER,OAAQ,CACbS,GAAG,CAAC,MAAM,CACVN,SAAS,CAAC,SAAS,CACnBO,OAAO,CAAER,cAAe,CACzB,CAAC,CACC,CAAC,cAENrB,IAAA,QAAKsB,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEhB,KAAK,CAAM,CAAC,EACrC,CAAC,CAEHG,YAAY,eACXR,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eAEEvB,IAAA,WAAQsB,SAAS,CAAC,kBAAkB,CAACQ,OAAO,CAAEnB,QAAS,CAAAY,QAAA,CAAC,GAExD,CAAQ,CAAC,cACTvB,IAAA,WAAQsB,SAAS,CAAC,gBAAgB,CAACQ,OAAO,CAAElB,MAAO,CAAAW,QAAA,CAAC,QAEpD,CAAQ,CAAC,EACT,CACH,EACE,CAAC,CAEV,CAEA,cAAe,CAAAlB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}