{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./WeatherWidget.css';import{IoMdSunny,IoMdCloudy,IoMdRainy,IoMdSnow,IoMdThunderstorm,IoMdPartlySunny,IoMdMoon}from'react-icons/io';/**\r\n * Определяем иконку для большого отображения по описанию погоды.\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function getWeatherIcon(description){if(!description)return IoMdPartlySunny;const lowerDesc=description.toLowerCase();if(lowerDesc.includes('clear')){return IoMdSunny;}if(lowerDesc.includes('cloud')){return IoMdCloudy;}if(lowerDesc.includes('rain')||lowerDesc.includes('drizzle')){return IoMdRainy;}if(lowerDesc.includes('snow')){return IoMdSnow;}if(lowerDesc.includes('thunder')){return IoMdThunderstorm;}if(lowerDesc.includes('wind')||lowerDesc.includes('breeze')){return IoMdPartlySunny;// или заменить на свою иконку ветра\n}if(lowerDesc.includes('night')||lowerDesc.includes('moon')){return IoMdMoon;}return IoMdPartlySunny;}function WeatherWidget(_ref){let{theme}=_ref;const[weather,setWeather]=useState(null);const[forecast,setForecast]=useState([]);const[loading,setLoading]=useState(true);const[isModalOpen,setIsModalOpen]=useState(false);const[cityInput,setCityInput]=useState('');const[canManualInput,setCanManualInput]=useState(false);// canManualInput => если после 5s не смогли определить погоду, \n// даём пользователю возможность вручную открыть окно\n// Замените на реальный ключ (или process.env.REACT_APP_OWM_KEY)\nconst API_KEY='4cc9911b0a2723050929b73c2a59e727';useEffect(()=>{const storedCity=localStorage.getItem('weatherCity')||'';setCityInput(storedCity);// Установим таймер на 5 секунд. Если за это время погода не загрузится, \n// разрешим пользователю вручную открыть окно (canManualInput=true).\nconst timerId=setTimeout(()=>{if(loading&&!weather){setCanManualInput(true);setLoading(false);}},5000);if(!navigator.geolocation){// Нет geolocation => Попробуем грузить погоду по городу из localStorage\nif(storedCity){fetchWeatherByCity(storedCity);}else{// Нет города => ничего не можем показать\nsetWeather(null);}// Раз уж геолокация нет, отключаем loading:\nsetLoading(false);return()=>clearTimeout(timerId);}navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;fetchWeatherByCoords(latitude,longitude).finally(()=>{clearTimeout(timerId);});},error=>{// Если пользователь отклонил геолокацию\nif(storedCity){fetchWeatherByCity(storedCity);}else{setWeather(null);}setLoading(false);clearTimeout(timerId);});return()=>clearTimeout(timerId);},[]);const fetchWeatherByCoords=async(lat,lon)=>{try{setLoading(true);const currentRes=await fetch(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(lat,\"&lon=\").concat(lon,\"&units=metric&lang=ru&appid=\").concat(API_KEY));if(!currentRes.ok)throw new Error('Не удалось получить погоду');const currentData=await currentRes.json();setWeather({temp:Math.round(currentData.main.temp),description:currentData.weather[0].description,name:currentData.name});const forecastRes=await fetch(\"https://api.openweathermap.org/data/2.5/forecast?lat=\".concat(lat,\"&lon=\").concat(lon,\"&units=metric&lang=ru&appid=\").concat(API_KEY));if(!forecastRes.ok)throw new Error('Не удалось получить прогноз');const forecastData=await forecastRes.json();const processed=processForecastData(forecastData.list);setForecast(processed);}catch(err){alert(err.message);setWeather(null);setForecast([]);}setLoading(false);};const fetchWeatherByCity=async cityName=>{try{setLoading(true);const currentRes=await fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(encodeURIComponent(cityName),\"&units=metric&lang=ru&appid=\").concat(API_KEY));if(!currentRes.ok)throw new Error('Город не найден');const currentData=await currentRes.json();setWeather({temp:Math.round(currentData.main.temp),description:currentData.weather[0].description,name:currentData.name});const forecastRes=await fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(encodeURIComponent(cityName),\"&units=metric&lang=ru&appid=\").concat(API_KEY));if(!forecastRes.ok)throw new Error('Не удалось получить прогноз');const forecastData=await forecastRes.json();const processed=processForecastData(forecastData.list);setForecast(processed);}catch(error){alert(error.message);setWeather(null);setForecast([]);}setLoading(false);};const processForecastData=list=>{const dayMap={};list.forEach(item=>{const dateTxt=item.dt_txt.split(' ')[0];const temp=item.main.temp;if(!dayMap[dateTxt]){dayMap[dateTxt]={min:temp,max:temp};}else{if(temp<dayMap[dateTxt].min)dayMap[dateTxt].min=temp;if(temp>dayMap[dateTxt].max)dayMap[dateTxt].max=temp;}});const entries=Object.keys(dayMap).map(date=>({date,min:Math.round(dayMap[date].min),max:Math.round(dayMap[date].max)}));entries.sort((a,b)=>a.date>b.date?1:-1);return entries.slice(0,4);};const handleWidgetClick=()=>{// Если можем открыть модальное окно (либо погода загружена, либо прошли 5 секунд)\nif(weather||canManualInput){setIsModalOpen(true);}// иначе: не даём открыть, т.к. ещё грузится — на ваш выбор\n};const closeModal=()=>{setIsModalOpen(false);};const handleCitySubmit=e=>{e.preventDefault();if(cityInput.trim()){localStorage.setItem('weatherCity',cityInput.trim());fetchWeatherByCity(cityInput.trim());}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"weather-widget mac-widget\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u043E\\u0433\\u043E\\u0434\\u044B...\"})});}if(!weather){// Погода недоступна => показываем кнопку \"Ввести город\", если прошло 5 сек (canManualInput)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"weather-widget mac-widget\",onClick:handleWidgetClick,children:canManualInput?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445. \\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0432\\u0432\\u0435\\u0441\\u0442\\u0438 \\u0433\\u043E\\u0440\\u043E\\u0434\"}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u0433\\u043E\\u0434\\u0430 \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0430\"})}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"weather-modal-overlay \".concat(theme==='dark'?'dark-overlay':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"weather-modal-content mac-modal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"weather-modal-close\",onClick:closeModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"weather-modal-title\",children:\"\\u041F\\u041E\\u0413\\u041E\\u0414\\u0410\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434 \\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E:\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"weather-city-form\",onSubmit:handleCitySubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434...\",value:cityInput,onChange:e=>setCityInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"OK\"})]})]})})]});}// Если погода определена, показываем виджет\nconst WeatherIcon=getWeatherIcon(weather.description);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-widget mac-widget\",onClick:handleWidgetClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"weather-icon\",children:/*#__PURE__*/_jsx(WeatherIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-temp\",children:[weather.temp,\" \\xB0C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-city-small\",children:weather.name})]})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"weather-modal-overlay \".concat(theme==='dark'?'dark-overlay':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"weather-modal-content mac-modal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"weather-modal-close\",onClick:closeModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"weather-modal-title\",children:\"\\u041F\\u041E\\u0413\\u041E\\u0414\\u0410\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-today\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wt-icon\",children:/*#__PURE__*/_jsx(WeatherIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wt-temp\",children:[weather.temp,\" \\xB0C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"wt-city\",children:weather.name}),/*#__PURE__*/_jsx(\"div\",{className:\"wt-desc\",children:weather.description})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"weather-city-form\",onSubmit:handleCitySubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434...\",value:cityInput,onChange:e=>setCityInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"OK\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),forecast&&forecast.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"weather-forecast\",children:forecast.map(day=>/*#__PURE__*/_jsxs(\"div\",{className:\"weather-forecast-day\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wf-dayName\",children:new Date(day.date).toLocaleDateString('ru-RU',{weekday:'short',day:'numeric',month:'numeric'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wf-temps\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"wf-min\",children:[day.min,\"\\xB0C\"]}),\" - \",/*#__PURE__*/_jsxs(\"span\",{className:\"wf-max\",children:[day.max,\"\\xB0C\"]})]})]},day.date))}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u043D\\u043E\\u0437\\u0443\"})]})})]});}export default WeatherWidget;","map":{"version":3,"names":["React","useState","useEffect","IoMdSunny","IoMdCloudy","IoMdRainy","IoMdSnow","IoMdThunderstorm","IoMdPartlySunny","IoMdMoon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getWeatherIcon","description","lowerDesc","toLowerCase","includes","WeatherWidget","_ref","theme","weather","setWeather","forecast","setForecast","loading","setLoading","isModalOpen","setIsModalOpen","cityInput","setCityInput","canManualInput","setCanManualInput","API_KEY","storedCity","localStorage","getItem","timerId","setTimeout","navigator","geolocation","fetchWeatherByCity","clearTimeout","getCurrentPosition","position","latitude","longitude","coords","fetchWeatherByCoords","finally","error","lat","lon","currentRes","fetch","concat","ok","Error","currentData","json","temp","Math","round","main","name","forecastRes","forecastData","processed","processForecastData","list","err","alert","message","cityName","encodeURIComponent","dayMap","forEach","item","dateTxt","dt_txt","split","min","max","entries","Object","keys","map","date","sort","a","b","slice","handleWidgetClick","closeModal","handleCitySubmit","e","preventDefault","trim","setItem","className","children","onClick","onSubmit","type","placeholder","value","onChange","target","WeatherIcon","length","day","Date","toLocaleDateString","weekday","month"],"sources":["C:/Users/axm/Documents/GitHub/Home-Page/src/components/WeatherWidget.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './WeatherWidget.css';\r\nimport {\r\n  IoMdSunny,\r\n  IoMdCloudy,\r\n  IoMdRainy,\r\n  IoMdSnow,\r\n  IoMdThunderstorm,\r\n  IoMdPartlySunny,\r\n  IoMdMoon\r\n} from 'react-icons/io';\r\n\r\n/**\r\n * Определяем иконку для большого отображения по описанию погоды.\r\n */\r\nfunction getWeatherIcon(description) {\r\n  if (!description) return IoMdPartlySunny;\r\n  const lowerDesc = description.toLowerCase();\r\n\r\n  if (lowerDesc.includes('clear')) {\r\n    return IoMdSunny;\r\n  }\r\n  if (lowerDesc.includes('cloud')) {\r\n    return IoMdCloudy;\r\n  }\r\n  if (lowerDesc.includes('rain') || lowerDesc.includes('drizzle')) {\r\n    return IoMdRainy;\r\n  }\r\n  if (lowerDesc.includes('snow')) {\r\n    return IoMdSnow;\r\n  }\r\n  if (lowerDesc.includes('thunder')) {\r\n    return IoMdThunderstorm;\r\n  }\r\n  if (lowerDesc.includes('wind') || lowerDesc.includes('breeze')) {\r\n    return IoMdPartlySunny; // или заменить на свою иконку ветра\r\n  }\r\n  if (lowerDesc.includes('night') || lowerDesc.includes('moon')) {\r\n    return IoMdMoon;\r\n  }\r\n\r\n  return IoMdPartlySunny;\r\n}\r\n\r\nfunction WeatherWidget({ theme }) {\r\n  const [weather, setWeather] = useState(null);\r\n  const [forecast, setForecast] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [cityInput, setCityInput] = useState('');\r\n  const [canManualInput, setCanManualInput] = useState(false); \r\n  // canManualInput => если после 5s не смогли определить погоду, \r\n  // даём пользователю возможность вручную открыть окно\r\n\r\n  // Замените на реальный ключ (или process.env.REACT_APP_OWM_KEY)\r\n  const API_KEY = '4cc9911b0a2723050929b73c2a59e727';\r\n\r\n  useEffect(() => {\r\n    const storedCity = localStorage.getItem('weatherCity') || '';\r\n    setCityInput(storedCity);\r\n\r\n    // Установим таймер на 5 секунд. Если за это время погода не загрузится, \r\n    // разрешим пользователю вручную открыть окно (canManualInput=true).\r\n    const timerId = setTimeout(() => {\r\n      if (loading && !weather) {\r\n        setCanManualInput(true);\r\n        setLoading(false);\r\n      }\r\n    }, 5000);\r\n\r\n    if (!navigator.geolocation) {\r\n      // Нет geolocation => Попробуем грузить погоду по городу из localStorage\r\n      if (storedCity) {\r\n        fetchWeatherByCity(storedCity);\r\n      } else {\r\n        // Нет города => ничего не можем показать\r\n        setWeather(null);\r\n      }\r\n      // Раз уж геолокация нет, отключаем loading:\r\n      setLoading(false);\r\n      return () => clearTimeout(timerId);\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        fetchWeatherByCoords(latitude, longitude).finally(() => {\r\n          clearTimeout(timerId);\r\n        });\r\n      },\r\n      (error) => {\r\n        // Если пользователь отклонил геолокацию\r\n        if (storedCity) {\r\n          fetchWeatherByCity(storedCity);\r\n        } else {\r\n          setWeather(null);\r\n        }\r\n        setLoading(false);\r\n        clearTimeout(timerId);\r\n      }\r\n    );\r\n\r\n    return () => clearTimeout(timerId);\r\n  }, []);\r\n\r\n  const fetchWeatherByCoords = async (lat, lon) => {\r\n    try {\r\n      setLoading(true);\r\n      const currentRes = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=ru&appid=${API_KEY}`\r\n      );\r\n      if (!currentRes.ok) throw new Error('Не удалось получить погоду');\r\n      const currentData = await currentRes.json();\r\n      setWeather({\r\n        temp: Math.round(currentData.main.temp),\r\n        description: currentData.weather[0].description,\r\n        name: currentData.name\r\n      });\r\n\r\n      const forecastRes = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=metric&lang=ru&appid=${API_KEY}`\r\n      );\r\n      if (!forecastRes.ok) throw new Error('Не удалось получить прогноз');\r\n      const forecastData = await forecastRes.json();\r\n      const processed = processForecastData(forecastData.list);\r\n      setForecast(processed);\r\n    } catch (err) {\r\n      alert(err.message);\r\n      setWeather(null);\r\n      setForecast([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const fetchWeatherByCity = async (cityName) => {\r\n    try {\r\n      setLoading(true);\r\n      const currentRes = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(\r\n          cityName\r\n        )}&units=metric&lang=ru&appid=${API_KEY}`\r\n      );\r\n      if (!currentRes.ok) throw new Error('Город не найден');\r\n      const currentData = await currentRes.json();\r\n      setWeather({\r\n        temp: Math.round(currentData.main.temp),\r\n        description: currentData.weather[0].description,\r\n        name: currentData.name\r\n      });\r\n\r\n      const forecastRes = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(\r\n          cityName\r\n        )}&units=metric&lang=ru&appid=${API_KEY}`\r\n      );\r\n      if (!forecastRes.ok) throw new Error('Не удалось получить прогноз');\r\n      const forecastData = await forecastRes.json();\r\n      const processed = processForecastData(forecastData.list);\r\n      setForecast(processed);\r\n    } catch (error) {\r\n      alert(error.message);\r\n      setWeather(null);\r\n      setForecast([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const processForecastData = (list) => {\r\n    const dayMap = {};\r\n    list.forEach((item) => {\r\n      const dateTxt = item.dt_txt.split(' ')[0];\r\n      const temp = item.main.temp;\r\n      if (!dayMap[dateTxt]) {\r\n        dayMap[dateTxt] = { min: temp, max: temp };\r\n      } else {\r\n        if (temp < dayMap[dateTxt].min) dayMap[dateTxt].min = temp;\r\n        if (temp > dayMap[dateTxt].max) dayMap[dateTxt].max = temp;\r\n      }\r\n    });\r\n\r\n    const entries = Object.keys(dayMap).map((date) => ({\r\n      date,\r\n      min: Math.round(dayMap[date].min),\r\n      max: Math.round(dayMap[date].max),\r\n    }));\r\n    entries.sort((a, b) => (a.date > b.date ? 1 : -1));\r\n\r\n    return entries.slice(0, 4);\r\n  };\r\n\r\n  const handleWidgetClick = () => {\r\n    // Если можем открыть модальное окно (либо погода загружена, либо прошли 5 секунд)\r\n    if (weather || canManualInput) {\r\n      setIsModalOpen(true);\r\n    }\r\n    // иначе: не даём открыть, т.к. ещё грузится — на ваш выбор\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleCitySubmit = (e) => {\r\n    e.preventDefault();\r\n    if (cityInput.trim()) {\r\n      localStorage.setItem('weatherCity', cityInput.trim());\r\n      fetchWeatherByCity(cityInput.trim());\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"weather-widget mac-widget\">\r\n        <p>Загрузка погоды...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!weather) {\r\n    // Погода недоступна => показываем кнопку \"Ввести город\", если прошло 5 сек (canManualInput)\r\n    return (\r\n      <>\r\n        <div className=\"weather-widget mac-widget\" onClick={handleWidgetClick}>\r\n          {canManualInput ? (\r\n            <p>Нет данных. Нажмите, чтобы ввести город</p>\r\n          ) : (\r\n            <p>Погода недоступна</p>\r\n          )}\r\n        </div>\r\n        {isModalOpen && (\r\n          <div className={`weather-modal-overlay ${theme === 'dark' ? 'dark-overlay' : ''}`}>\r\n            <div className=\"weather-modal-content mac-modal\">\r\n              <button className=\"weather-modal-close\" onClick={closeModal}>×</button>\r\n              <h2 className=\"weather-modal-title\">ПОГОДА</h2>\r\n              <p>Введите город вручную:</p>\r\n              <form className=\"weather-city-form\" onSubmit={handleCitySubmit}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Введите город...\"\r\n                  value={cityInput}\r\n                  onChange={(e) => setCityInput(e.target.value)}\r\n                />\r\n                <button type=\"submit\">OK</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Если погода определена, показываем виджет\r\n  const WeatherIcon = getWeatherIcon(weather.description);\r\n  return (\r\n    <>\r\n      <div className=\"weather-widget mac-widget\" onClick={handleWidgetClick}>\r\n        <div className=\"weather-icon\">\r\n          <WeatherIcon />\r\n        </div>\r\n        <div className=\"weather-info\">\r\n          <div className=\"weather-temp\">{weather.temp} °C</div>\r\n          <div className=\"weather-city-small\">{weather.name}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {isModalOpen && (\r\n        <div className={`weather-modal-overlay ${theme === 'dark' ? 'dark-overlay' : ''}`}>\r\n          <div className=\"weather-modal-content mac-modal\">\r\n            <button className=\"weather-modal-close\" onClick={closeModal}>\r\n              ×\r\n            </button>\r\n            <h2 className=\"weather-modal-title\">ПОГОДА</h2>\r\n\r\n            <div className=\"weather-today\">\r\n              <div className=\"wt-icon\">\r\n                <WeatherIcon />\r\n              </div>\r\n              <div className=\"wt-temp\">{weather.temp} °C</div>\r\n              <div className=\"wt-city\">{weather.name}</div>\r\n              <div className=\"wt-desc\">{weather.description}</div>\r\n            </div>\r\n\r\n            <form className=\"weather-city-form\" onSubmit={handleCitySubmit}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Введите город...\"\r\n                value={cityInput}\r\n                onChange={(e) => setCityInput(e.target.value)}\r\n              />\r\n              <button type=\"submit\">OK</button>\r\n            </form>\r\n\r\n            <hr />\r\n            {forecast && forecast.length > 0 ? (\r\n              <div className=\"weather-forecast\">\r\n                {forecast.map((day) => (\r\n                  <div key={day.date} className=\"weather-forecast-day\">\r\n                    <div className=\"wf-dayName\">\r\n                      {new Date(day.date).toLocaleDateString('ru-RU', {\r\n                        weekday: 'short',\r\n                        day: 'numeric',\r\n                        month: 'numeric'\r\n                      })}\r\n                    </div>\r\n                    <div className=\"wf-temps\">\r\n                      <span className=\"wf-min\">{day.min}°C</span> - <span className=\"wf-max\">{day.max}°C</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p>Нет данных по прогнозу</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WeatherWidget;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}