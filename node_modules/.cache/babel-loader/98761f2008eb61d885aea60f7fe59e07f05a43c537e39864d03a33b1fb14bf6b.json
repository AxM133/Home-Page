{"ast":null,"code":"import React,{useState,useEffect}from'react';import LinkForm from'./LinkForm';import'./SidebarMenu.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SidebarMenu(_ref){let{isOpen,onClose,onAddLink,toggleTheme,// функция из родителя, переключающая саму тему\ntoggleRemoveMode,sortBy,setSortBy,selectedCategory,setSelectedCategory,allCategories}=_ref;const[showForm,setShowForm]=useState(false);const[isDarkChecked,setIsDarkChecked]=useState(false);useEffect(()=>{// Считываем сохранённое состояние \"isDark\" из localStorage\nconst storedIsDark=localStorage.getItem('isDark');// если в localStorage нет, оставим false\nif(storedIsDark==='true'){setIsDarkChecked(true);}else{setIsDarkChecked(false);}},[]);// При изменении переключателя\nconst handleThemeSwitch=e=>{const checked=e.target.checked;setIsDarkChecked(checked);// Сохраняем в localStorage\nlocalStorage.setItem('isDark',checked?'true':'false');// Вызываем родительский toggleTheme, \n// который действительно переключает тему (dark <-> light)\ntoggleTheme();};const handleAddBlockClick=()=>{setShowForm(prev=>!prev);};return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-menu \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u0435\\u043D\\u044E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddBlockClick,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0431\\u043B\\u043E\\u043A\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"add-form-wrapper\",children:/*#__PURE__*/_jsx(LinkForm,{onAddLink:onAddLink})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleRemoveMode,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0431\\u043B\\u043E\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"manual\",children:\"\\u0420\\u0443\\u0447\\u043D\\u0430\\u044F (Drag & Drop)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alphabetical\",children:\"\\u041F\\u043E \\u0430\\u043B\\u0444\\u0430\\u0432\\u0438\\u0442\\u0443\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"\\u041F\\u043E \\u0434\\u0430\\u0442\\u0435 (\\u043D\\u043E\\u0432\\u044B\\u0435 \\u0441\\u0432\\u0435\\u0440\\u0445\\u0443)\"})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),children:allCategories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))}),/*#__PURE__*/_jsxs(\"label\",{className:\"switch theme-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isDarkChecked,onChange:handleThemeSwitch}),/*#__PURE__*/_jsx(\"span\",{className:\"slider\"})]})]});}export default SidebarMenu;","map":{"version":3,"names":["React","useState","useEffect","LinkForm","jsx","_jsx","jsxs","_jsxs","SidebarMenu","_ref","isOpen","onClose","onAddLink","toggleTheme","toggleRemoveMode","sortBy","setSortBy","selectedCategory","setSelectedCategory","allCategories","showForm","setShowForm","isDarkChecked","setIsDarkChecked","storedIsDark","localStorage","getItem","handleThemeSwitch","e","checked","target","setItem","handleAddBlockClick","prev","className","concat","children","onClick","value","onChange","map","cat","type"],"sources":["C:/Users/axm/Documents/GitHub/Home-Page/src/components/SidebarMenu.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport LinkForm from './LinkForm';\r\nimport './SidebarMenu.css';\r\n\r\nfunction SidebarMenu({\r\n  isOpen,\r\n  onClose,\r\n  onAddLink,\r\n  toggleTheme,      // функция из родителя, переключающая саму тему\r\n  toggleRemoveMode,\r\n  sortBy,\r\n  setSortBy,\r\n  selectedCategory,\r\n  setSelectedCategory,\r\n  allCategories\r\n}) {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isDarkChecked, setIsDarkChecked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Считываем сохранённое состояние \"isDark\" из localStorage\r\n    const storedIsDark = localStorage.getItem('isDark');\r\n    // если в localStorage нет, оставим false\r\n    if (storedIsDark === 'true') {\r\n      setIsDarkChecked(true);\r\n    } else {\r\n      setIsDarkChecked(false);\r\n    }\r\n  }, []);\r\n\r\n  // При изменении переключателя\r\n  const handleThemeSwitch = (e) => {\r\n    const checked = e.target.checked;\r\n    setIsDarkChecked(checked);\r\n\r\n    // Сохраняем в localStorage\r\n    localStorage.setItem('isDark', checked ? 'true' : 'false');\r\n\r\n    // Вызываем родительский toggleTheme, \r\n    // который действительно переключает тему (dark <-> light)\r\n    toggleTheme();\r\n  };\r\n\r\n  const handleAddBlockClick = () => {\r\n    setShowForm((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <div className={`sidebar-menu ${isOpen ? 'open' : ''}`}>\r\n      <h2>Меню</h2>\r\n      <button onClick={handleAddBlockClick}>Добавить блок</button>\r\n      {showForm && (\r\n        <div className=\"add-form-wrapper\">\r\n          <LinkForm onAddLink={onAddLink} />\r\n        </div>\r\n      )}\r\n\r\n      <button onClick={toggleRemoveMode}>Изменение блока</button>\r\n\r\n      <h4>Сортировка</h4>\r\n      <select value={sortBy} onChange={(e) => setSortBy(e.target.value)}>\r\n        <option value=\"manual\">Ручная (Drag & Drop)</option>\r\n        <option value=\"alphabetical\">По алфавиту</option>\r\n        <option value=\"date\">По дате (новые сверху)</option>\r\n      </select>\r\n\r\n      <h4>Категория</h4>\r\n      <select\r\n        value={selectedCategory}\r\n        onChange={(e) => setSelectedCategory(e.target.value)}\r\n      >\r\n        {allCategories.map((cat) => (\r\n          <option key={cat} value={cat}>\r\n            {cat}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      {/* Переключатель темы (switch) внизу справа, \r\n          но теперь он сохраняет чек и при перезапуске страницы */}\r\n      <label className=\"switch theme-switch\">\r\n        <input \r\n          type=\"checkbox\"\r\n          checked={isDarkChecked}\r\n          onChange={handleThemeSwitch}\r\n        />\r\n        <span className=\"slider\" />\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidebarMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}